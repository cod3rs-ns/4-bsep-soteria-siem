<div class="top-bar navbar-fixed-top" ng-controller="HeaderController as headerVm">
	<div class="container">
		<div class="clearfix">
			<a href="#" class="pull-left toggle-sidebar-collapse"><i class="fa fa-bars"></i></a>
			<!-- logo -->
			<div class="pull-left left app-logo">
				<a ui-sref="home"><img src="../../../assets/images/logo.png"
                                       alt="Soteria Application"/></a>
				<h1 class="sr-only">Soteria Application</h1>
			</div>
			<!-- end logo -->

			<div class="pull-right right">
				<!-- top-bar-right -->
				<div class="top-bar-right">
					<a ui-sref="projects" ng-if="!(headerVm.$storage.role === 'guest')">
                        <button type="button" id="nav-projects" class="btn btn-link">Projects</button>
                    </a>
					<a ui-sref="alarms" ng-if="!(headerVm.$storage.role === 'guest')">
                        <button type="button" id="nav-alarms" class="btn btn-link">Alarms</button>
                    </a>
					<a ui-sref="create-project" ng-if="!(headerVm.$storage.role === 'guest')">
                        <button type="button" id="nav-create-project" class="btn btn-link">Create project</button>
                    </a>
					<a  ng-if="!(headerVm.$storage.role === 'guest')">
                        <button type="button" id="nav-reports" class="btn btn-link">Reports</button>
                    </a>
					<a ui-sref="login" ng-if="(headerVm.$storage.role === 'guest')">
                        <button type="button" id="nav-login" class="btn btn-link">Login</button>
                    </a>
					<a ui-sref="register" ng-if="(headerVm.$storage.role === 'guest')">
                    	<button type="button" id="nav-register" class="btn btn-link">Register</button>
                	</a>
					<div class="notifications" ng-if="!(headerVm.$storage.role === 'guest')">
						<ul>
							<li class="notification-item general" ng-click="headerVm.resetNotifications();">
								<div class="btn-group">
									<a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown">
										<i class="fa fa-bell"></i>
										<span ng-if="headerVm.notificationCount" class="count">{{headerVm.notificationCount}}</span>
										<span class="circle"></span>
									</a>
									<ul class="dropdown-menu" role="menu">
										<li ng-if="headerVm.notifications.length != 0" class="notification-header">
											<em>You have {{headerVm.notificationsCount}} notifications</em>
										</li>
										<li ng-repeat="notification in headerVm.notifications">
											<a href="#">
												<i class="fa fa-comment green-font"></i>
												<span class="text">{{notification.alarm.data.attributes.message}}</span>
												<span class="timestamp" am-time-ago="notification.time"></span>
											</a>
										</li>
									</ul>
								</div>
							</li>
						</ul>
					</div>
					<!-- logged user and the menu -->
					<div class="logged-user" ng-if="!(headerVm.$storage.role === 'guest')">
						<div class="btn-group">
							<a href="javascript:void(0);" class="btn btn-link dropdown-toggle" data-toggle="dropdown">
                                <img ng-src="{{headerVm.$storage.image}}" alt="User Avatar" style="height:25px; width:25px;"/>
                                <span class="name">&nbsp;{{headerVm.$storage.userInfo}}</span> <span class="caret"></span>
                            </a>
							<ul class="dropdown-menu" role="menu">
								<li>
									<a href="#">
                                        <i class="fa fa-user"></i>
                                        <span class="text">Profile</span>
                                    </a>
								</li>
								<li>
									<a href="javascript:void(0);" ng-click="headerVm.logout();">
                                        <i class="fa fa-power-off"></i>
                                        <span class="text">Logout</span>
                                    </a>
								</li>
							</ul>
						</div>
					</div>
					<!-- end logged user and the menu -->
				</div>
				<!-- end top-bar-right -->
			</div>
		</div>
	</div>
	<!-- /container -->
</div>